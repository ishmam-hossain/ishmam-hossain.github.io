<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Introducing strictpy: A Strict Typing Library for Python - Ishmam Hossain</title><link rel=icon type=image/png href="https://img.icons8.com/?size=1x&id=X6lDUMU0lbLo&format=png"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Make Python a strictly typed language"><meta property="og:image" content><meta property="og:title" content="Introducing strictpy: A Strict Typing Library for Python"><meta property="og:description" content="Make Python a strictly typed language"><meta property="og:type" content="article"><meta property="og:url" content="https://ishmam-hossain.github.io/posts/strictpy/"><meta property="article:published_time" content="2023-04-16T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-16T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introducing strictpy: A Strict Typing Library for Python"><meta name=twitter:description content="Make Python a strictly typed language"><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://ishmam-hossain.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://ishmam-hossain.github.io/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css disabled></head><body><div class=content><header><div class=main><a href=https://ishmam-hossain.github.io/>Ishmam Hossain</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
| <span id=dark-mode-toggle onclick=toggleTheme()></span><script src=https://ishmam-hossain.github.io/js/themetoggle.js></script></nav></header><main><article><div class=title><h1 class=title>Introducing strictpy: A Strict Typing Library for Python</h1><div class=meta>Posted on Apr 16, 2023</div></div><section class=body><p>As Python projects grow in complexity, maintaining type safety becomes increasingly important to ensure code stability and reduce potential bugs. While Python&rsquo;s dynamic typing system provides a lot of flexibility, it can sometimes lead to type-related issues that can be difficult to debug.
That&rsquo;s where strictpy comes in - a Python library that provides strict typing capabilities to Python 3.x. Developed by Senior Software Engineer Ishmam Hossain, strictpy makes it easy to define and enforce strict types for your Python code.</p><p>Here are some of the key features of strictpy:</p><h3 id=1-easy-to-use>1. Easy to Use</h3><p><strong>Strictpy</strong> provides a simple syntax for defining types using Python&rsquo;s built-in typing module.</p><p>Here&rsquo;s an example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> strictpy <span style=color:#f92672>import</span> strict

<span style=color:#a6e22e>@strict</span> 
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add_numbers</span>(x: int, y: int) <span style=color:#f92672>-&gt;</span> int: 
    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>+</span> y
</code></pre></div><p>In this example, we&rsquo;ve defined a function add_numbers that takes two arguments, both of which must be of type int. If you try to pass anything other than an integer value for x or y, <strong>Strictpy</strong> will raise a Custom Error.</p><h2 id=2-custom-errorexception-classes>2. Custom Error/Exception classes</h2><p>By default, strictpy will raise a custom exception if a type violation occurs. Here are the custom exceptions that will be raised when some violation happens.</p><ol><li><p><strong>TypeHintMissingError</strong></p><ul><li>In the above code snippet, type hint for <code>y</code> is missing which will result in the following exception-</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> strictpy <span style=color:#f92672>import</span> strict

<span style=color:#a6e22e>@strict</span> 
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>some_function</span>(x: int, y) <span style=color:#f92672>-&gt;</span> int: 
    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>*</span> y
</code></pre></div><p>Here is tracback message for the above mentioned code-</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>strictpy<span style=color:#f92672>.</span>exceptions<span style=color:#f92672>.</span>TypeHintMissingError: parameter type hint cannot be empty <span style=color:#66d9ef>for</span> <span style=color:#e6db74>&#39;y&#39;</span>
</code></pre></div><ul><li>In this example, the return type annotation is missing, so the program will raise <code>TypeHintMissingError</code>.</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> strictpy <span style=color:#f92672>import</span> strict

<span style=color:#a6e22e>@strict</span> 
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add_numbers</span>(x: int, y: int): 
    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>+</span> y
</code></pre></div><p>Traceback-</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>strictpy<span style=color:#f92672>.</span>exceptions<span style=color:#f92672>.</span>TypeHintMissingError: <span style=color:#66d9ef>return</span> type hint cannot be empty<span style=color:#f92672>.</span>
</code></pre></div><ul><li>To ignore checking return type annotation, you can do this-</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#a6e22e>@strict</span>(force_return_type_check<span style=color:#f92672>=</span>False)
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>some_function</span>(x: int, y: int):
    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>*</span> y
</code></pre></div></li><li><p><strong>TypeMismatchError</strong></p><ul><li>Here, return type is <code>str</code> but the return value in clearly <code>int</code>, so you&rsquo;ll get the following exception traceback:</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> strictpy <span style=color:#f92672>import</span> strict

<span style=color:#a6e22e>@strict</span>(force_return_type_check<span style=color:#f92672>=</span>False)
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>some_function</span>(x: int, y: int) <span style=color:#f92672>-&gt;</span> str:
    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>*</span> y

some_function(<span style=color:#ae81ff>5</span>, y<span style=color:#f92672>=</span><span style=color:#ae81ff>6</span>) <span style=color:#75715e># x is positional</span>
</code></pre></div><p>Traceback-</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>strictpy<span style=color:#f92672>.</span>exceptions<span style=color:#f92672>.</span>TypeMismatchError: Expected type of <span style=color:#e6db74>&#39;return&#39;</span> <span style=color:#f92672>is</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>str</span><span style=color:#e6db74>&#39;&gt;, got &lt;class &#39;</span>int<span style=color:#e6db74>&#39;&gt; instead.```</span>

</code></pre></div></li><li><p><strong>PositionalArgumentsNotAllowedException</strong></p><ul><li>You MUST call the decorated function with Keyword Only Arguments! Failing to do so will raise exception. Let&rsquo;s look at an example-</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> strictpy <span style=color:#f92672>import</span> strict

<span style=color:#a6e22e>@strict</span>(force_return_type_check<span style=color:#f92672>=</span>False)
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>some_function</span>(x: int, y: int):
    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>*</span> y

some_function(<span style=color:#ae81ff>5</span>, y<span style=color:#f92672>=</span><span style=color:#ae81ff>6</span>) <span style=color:#75715e># x is positional</span>
</code></pre></div><p>Error traceback:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>strictpy<span style=color:#f92672>.</span>exceptions<span style=color:#f92672>.</span>PositionalArgumentsNotAllowedException: Only keyword arguments are expected, <span style=color:#ae81ff>1</span> were passed <span style=color:#66d9ef>as</span> positional arguments<span style=color:#f92672>.</span>
</code></pre></div></li></ol><h3 id=3-lightweight-and-performant>3. Lightweight and Performant</h3><p><code>Strictpy</code> is designed to be lightweight and fast, with minimal overhead. It uses Python&rsquo;s built-in typing module to define and enforce types, so there&rsquo;s no need for external dependencies.</p><h3 id=4-compatible-with-popular-python-tools>4. Compatible with Popular Python Tools</h3><p><code>Strictpy</code> is compatible with popular Python tools such as pytest and mypy. It also works seamlessly with other strictpy-enabled code, so you can use it to enforce type safety across your entire codebase.</p><h3 id=5-getting-started-with-strictpy>5. Getting Started with <code>Strictpy</code></h3><p>Getting started with <code>Strictpy</code> is easy. Simply install the package using pip:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>pip install strictpy
</code></pre></div><p>Then, you can start using it in your Python code by importing the <code>strict</code> decorator:</p><p>Overall, <code>Strictpy</code> is a flexible tool for enforcing strict typing in your Python code. If you&rsquo;re looking for an easy way to ensure code stability and reduce potential bugs, give <code>Strictpy</code> a try today!</p><blockquote><p>This is, by any means, not a replacement for static type checkers like mypy.</p></blockquote></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/code>Code</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=mailto:mailto:ishmam.dev@gmail.com rel=me title=Email><i data-feather=inbox></i></a><a class=border></a><a class=soc href=https://github.com/ishmam-hossain rel=me title=GitHub><i data-feather=github></i></a><a class=border></a><a class=soc href=https://linkedin.com/in/ishmam-hossain rel=me title=Linkedin><i data-feather=linkedin></i></a><a class=border></a><a class=soc href=https://stackoverflow.com/users/9907570/ishmam rel=me title="Stack OverFlow"><i data-feather=layers></i></a><a class=border></a><a class=soc href=https://leetcode.com/ishmamhossain/ rel=me title=Leetcode><i data-feather=terminal></i></a><a class=border></a></div><div class=footer-info>2023 ©ishmam.dev@gmail.com | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script>feather.replace()</script></div></body></html>